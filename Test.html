<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Email OTP Verification</title>
    <script src="https://smtpjs.com/v3/smtp.js"></script>
</head>
<body>

<script>
function generateOTP() {
    // Generate a random 6-digit OTP
    return Math.floor(100000 + Math.random() * 900000);
}

function sendOTP(email, otp) {
    // Use SMTPJS to send the OTP via email
    Email.send({
        SecureToken: "d9aeae2f-8d48-4db0-b7ea-1fd097ddeaef ",
        To: "sundeep741@gmail.com",
        From: "sundeep741@gmail.com",
        Subject: "Your One-Time Password (OTP)",
        Body: `Your OTP is: ${otp}`
    }).then(
        message => console.log(message)
    );
}

function verifyOTP() {
    // Get the entered OTP from the user
    var enteredOTP = document.getElementById("otpInput").value;

    // Replace this with the OTP sent to the user's email
    var sentOTP = sessionStorage.getItem("otp");

    if (enteredOTP === sentOTP) {
        alert("OTP verification successful!");
    } else {
        alert("Incorrect OTP. Please try again.");
    }
}
function requestOTP() {
    // Generate and send OTP when the user requests it
    var email = document.getElementById("emailInput").value;
    var otp = generateOTP();

    // Save the OTP in session storage for later verification
    sessionStorage.setItem("otp", otp);

    // Send the OTP via email
    sendOTP(email, otp);
}
</script>

<h2>Email OTP Verification</h2>

<label for="emailInput">Email:</label>
<input type="email" id="emailInput" required>
<br>
<button onclick="requestOTP()">Request OTP</button>

<br><br>

<label for="otpInput">Enter OTP:</label>
<input type="text" id="otpInput" required>
<button onclick="verifyOTP()">Verify OTP</button>

</body>
</html>
